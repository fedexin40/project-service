<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <record id="view_sla_lines_tree" model="ir.ui.view">
            <field name="name">view_sla_lines_tree</field>
            <field name="model">project.sla.line</field>
            <field name="arch" type="xml">

                <tree string="Definitions">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="condition"/>
                    <field name="warn_qty"/>
                    <field name="limit_qty"/>
                </tree>

            </field>
        </record>

        <record id="view_sla_lines_form" model="ir.ui.view">
            <field name="name">view_sla_lines_form</field>
            <field name="model">project.sla.line</field>
            <field name="arch" type="xml">

                <form string="Definition">
                    <field name="name"/>
                    <field name="sla_id"/>
                    <field name="sequence"/>
                    <field name="condition"/>
                    <field name="warn_qty"/>
                    <field name="limit_qty"/>
                </form>

            </field>
        </record>

        <record id="view_sla_tree" model="ir.ui.view">
            <field name="name">view_sla_tree</field>
            <field name="model">project.sla</field>
            <field name="arch" type="xml">

                <tree string="SLA Definitions">
                  <field name="name"/>
                  <field name="control_model"/>
                  <field name="start_field_id"/>
                  <field name="control_field_id"/>
                  <field name="active"/>
                </tree>

            </field>
        </record>

        <record id="view_sla_form" model="ir.ui.view">
            <field name="name">view_sla_form</field>
            <field name="model">project.sla</field>
            <field name="arch" type="xml">

                <form string="SLA Definition">
                  <group>
                    <group>
                        <field name="name"/>
                        <field name="active"/>
                    </group>
                    <group>
                        <field name="control_model"/>
                        <field name="start_field_id"/>
                        <field name="control_field_id"/>
                    </group>
                  </group>

                  <notebook colspan="4">
                    <page string="Rules" name="rules_page">
                      <field name="sla_line_ids" nolabel="1"/>
                    </page>
                    <page string="Contracts" name="contracts_page">
                      <field name="analytic_ids" nolabel="1" />
                    </page>
                  </notebook>
                  <button name="reapply_slas" colspan="2"
                          string="Reapply SLA on Contracts"
                          type="object" />
                </form>

            </field>
        </record>

        <record id="action_project_sla_view" model="ir.actions.act_window">
            <field name="name">SLA</field>
            <field name="res_model">project.sla</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="menu_project_sla" name="SLAs" action="action_project_sla_view"
                  parent="base.menu_definitions" sequence="100"/>
    </data>
</openerp>
